{"version":3,"sources":["components/Postal.js","components/Recomendados.js","components/Navegacion.js","App.js","index.js"],"names":["Postal","state","isZoom","imageError","handleClick","bind","handleError","this","setState","prev","imgRes","props","imagen","urls","find","res","height","width","url","replace","urlFull","length","imgUrl","className","onClick","onError","src","alt","titulo","href","link_publicacion","autor","React","Component","Recomendados","nextProps","sr","botones","subreddits","map","id","key","buscar","i","random","Math","floor","push","splice","Navegacion","anterior","siguiente","cambio","estado","App","imagenes","cargando","subreddit","contador","postxpagina","buscarPor","handleKeyUp","busqueda","cambioBuscar","buscarx","document","getElementById","value","fetch","then","json","resultados","data","children","reduce","result","preview","title","images","resolutions","author","permalink","after","before","catch","error","includes","undefined","subReddit","event","keyCode","preventDefault","click","postales","aria-label","placeholder","spellCheck","onKeyUp","evt","ReactDOM","render"],"mappings":"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","file":"static/js/main.05f90828.chunk.js","sourcesContent":["import React from \"react\";\r\n\r\nclass Postal extends React.Component{\r\n    constructor(){\r\n        super();\r\n        this.state={\r\n            isZoom:false,\r\n            imageError:false,\r\n        }\r\n        this.handleClick=this.handleClick.bind(this);\r\n        this.handleError=this.handleError.bind(this);\r\n    }\r\n\r\n    handleClick(){\r\n        this.setState(prev=>{\r\n            return{isZoom : !prev.isZoom}\r\n        })\r\n    }\r\n    handleError(){\r\n\r\n        this.setState(prev=>{\r\n            return{imageError : true}\r\n        })\r\n    }\r\n    render(){\r\n        let imgRes=this.props.imagen.urls.find((res)=>res.height>=400 && res.width>=600);\r\n        imgRes=imgRes?imgRes.url.replace(/&amp;/g, '&'):this.props.imagen.urlFull;\r\n        if(this.state.imageError){\r\n            imgRes=this.props.imagen.urls[this.props.imagen.urls.length-1].url.replace(/&amp;/g, '&');\r\n        }\r\n        const imgUrl=this.state.isZoom?this.state.imageError?imgRes :this.props.imagen.urlFull:imgRes;\r\n        return( \r\n            <div className={this.state.isZoom?\"postal zoom\":\"postal\"}>\r\n                <div className=\"hover\" onClick={this.handleClick}/>\r\n                <img onClick={this.handleClick} onError={this.handleError} src={imgUrl}  alt=\"\"/>\r\n                <h3>{this.props.imagen.titulo}</h3>\r\n                <a href={\"https://reddit.com\"+this.props.imagen.link_publicacion}>u/{this.props.imagen.autor}</a>\r\n            </div>\r\n            \r\n        )\r\n    }\r\n    \r\n}\r\n\r\nexport default Postal;","import React from \"react\"\r\n\r\nclass Recomendados extends React.Component{\r\n    shouldComponentUpdate(nextProps) {\r\n        if(this.props.sr===nextProps.sr){\r\n            return false;\r\n        }else{\r\n            return true;\r\n        }\r\n    }\r\n    \r\n    render(){\r\n        let botones=[];\r\n        let subreddits=[\r\n            \"Photographs\",\r\n            \"AnalogPhotography\",\r\n            \"FotosMexico\",\r\n            \"Generative\",\r\n            \"HeavyMind\",\r\n            \"ImaginaryLandscapes\",\r\n            \"PrintMaking\",\r\n            \"StreetArt\",\r\n            \"Isometric\",\r\n            \"Glitch_Art\",\r\n            \"AccidentalWesAnderson\",\r\n            \"UnstirredPaint\",\r\n            \"Museum\",\r\n        ];\r\n\r\n        subreddits=subreddits.map((sr,id)=>{\r\n            return <button key={id} onClick={()=> this.props.buscar(sr)} className=\"recomendado\">{\"\"+sr}</button>\r\n        });\r\n        \r\n        for(let i=0;i<5;i++){\r\n            const random=Math.floor(Math.random()*(subreddits.length));\r\n            botones.push(subreddits[random]);\r\n            \r\n            subreddits.splice(random,1);\r\n\r\n        }\r\n        return(\r\n            <div className=\"sb\">\r\n                {botones}\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\n\r\nexport default Recomendados","import React from \"react\";\r\n\r\nclass Navegacion extends React.Component{\r\n    constructor(){\r\n        super();\r\n        this.anterior=this.anterior.bind(this);\r\n        this.siguiente=this.siguiente.bind(this);\r\n    }\r\n    anterior(){\r\n        this.props.cambio(\"before=\"+this.props.estado.anterior);\r\n    }\r\n    siguiente(){\r\n        this.props.cambio(\"after=\"+this.props.estado.siguiente);\r\n    }\r\n    render(){\r\n        return( \r\n            <div className=\"top\">\r\n                {this.props.estado.anterior&&<button className=\"nav\" onClick={this.anterior}>&lt;</button>}\r\n                {this.props.estado.siguiente&&<button className=\"nav\" onClick={this.siguiente}>&gt;</button>}\r\n            </div>\r\n        )\r\n    }\r\n    \r\n}\r\n\r\nexport default Navegacion;","import React from \"react\"\r\nimport Postal from \"./components/Postal\"\r\nimport Recomendados from \"./components/Recomendados\"\r\nimport Navegacion from \"./components/Navegacion\"\r\n\r\nclass App extends React.Component{\r\n    \r\n    constructor(){\r\n        super();\r\n        this.state={\r\n            imagenes:[],\r\n            cargando:true,\r\n            subreddit:\"photographs\",\r\n            estado:\"\",\r\n            siguiente:\"\",\r\n            anterior:\"\",\r\n            contador:0,\r\n            postxpagina:25,\r\n            buscarPor:\"hot\",\r\n        }\r\n        this.handleClick=this.handleClick.bind(this);\r\n        this.handleKeyUp=this.handleKeyUp.bind(this);\r\n        this.busqueda=this.busqueda.bind(this);\r\n        this.cambio=this.cambio.bind(this);\r\n        this.cambioBuscar=this.cambioBuscar.bind(this);\r\n    }\r\n\r\n    busqueda(sr=this.state.subreddit,siguiente=\"\",contador=this.state.postxpagina,buscarx=this.state.buscarPor){\r\n        document.getElementById(\"subreddit\").value=\"\";\r\n        \r\n        this.setState({contador: contador,buscarPor:buscarx});\r\n\r\n        if(siguiente===\"\"){\r\n            contador=0;\r\n        }\r\n        const url=\r\n        `https://www.reddit.com/r/${sr}/${buscarx}/.json?limit=${this.state.postxpagina}&${siguiente}&count=${contador}`\r\n        \r\n        this.setState({cargando:true, estado:\"...\",subreddit:sr});\r\n        fetch(url)\r\n        .then(res=>res.json())\r\n        .then(res=> {\r\n            const resultados=res.data.children.reduce((result,id)=>{\r\n                if(id.data.preview){//es imagen?\r\n                    result.push({\r\n                        titulo: id.data.title,\r\n                        urlFull: id.data.url,\r\n                        urls:id.data.preview.images[0].resolutions,\r\n                        id: id.data.id,\r\n                        autor: id.data.author,\r\n                        link_publicacion: id.data.permalink,\r\n                    });\r\n                }\r\n                return result;\r\n            },[]);\r\n            this.setState({\r\n                imagenes: resultados,\r\n                cargando: false,\r\n                siguiente: res.data.after,\r\n                anterior: res.data.before,\r\n            });\r\n            \r\n        }).catch(error=>{\r\n            //console.log(error)\r\n            this.setState({estado:\"no encontrado/not found\"})\r\n        });\r\n    }\r\n    cambio(siguiente){\r\n        if(siguiente.includes(\"after\")){\r\n            this.busqueda(this.state.subreddit,siguiente,this.state.contador+this.state.postxpagina);\r\n        }else if(siguiente.includes(\"before\")){\r\n            this.busqueda(this.state.subreddit,siguiente,this.state.contador-this.state.postxpagina);\r\n        }\r\n    }\r\n    cambioBuscar(buscarx){\r\n        this.busqueda(undefined,undefined,undefined,buscarx);\r\n    }\r\n\r\n    handleClick(){\r\n        const subReddit=document.getElementById(\"subreddit\").value;\r\n        this.busqueda(subReddit);\r\n    }\r\n\r\n    handleKeyUp(event){\r\n        if (event.keyCode === 13) {\r\n            event.preventDefault();\r\n            document.getElementById(\"buscar\").click();\r\n        }\r\n    }\r\n\r\n    componentDidMount(){\r\n        this.busqueda(this.state.subreddit);\r\n    }\r\n\r\n    render(){\r\n        const postales=this.state.imagenes.map(imagen=> <Postal key={imagen.id} imagen={imagen} />);\r\n\r\n        return(\r\n        <div>\r\n            <div className=\"top\">\r\n                <div className=\"recomendados\">\r\n                    <button className={this.state.buscarPor===\"hot\"?\"seleccion\":\"\"} onClick={()=>this.cambioBuscar(\"hot\")}>Hot</button>\r\n                    <button className={this.state.buscarPor===\"new\"?\"seleccion\":\"\"} onClick={()=>this.cambioBuscar(\"new\")}>New</button> \r\n                </div>\r\n                <div className=\"caja\">\r\n                    <a href={\"https://www.reddit.com/r/\"+this.state.subreddit} className=\"prefijo\">r/</a>\r\n                    <input aria-label=\"buscar subreddit\" placeholder={this.state.subreddit} spellCheck=\"false\" onKeyUp={evt => this.handleKeyUp(evt)} id=\"subreddit\"/>\r\n                <button id=\"buscar\" className=\"buscar\" onClick={this.handleClick}><img alt=\">\" src=\"https://www.queryly.com/images/whitesearchicon.png  \"></img></button>\r\n\r\n                </div>\r\n                <Recomendados sr={this.state.subreddit} buscar={this.busqueda}/>\r\n                \r\n            </div>\r\n            \r\n            {!this.state.cargando?\r\n            <div className=\"contenedor\">\r\n                {postales}\r\n            </div>\r\n            :<h1 className=\"estado\">{this.state.estado}</h1>}\r\n\r\n            {!this.state.cargando?\r\n                <Navegacion estado={this.state} cambio={this.cambio}/>\r\n            :null}\r\n            <footer>\r\n                <a href=\"https://github.com/KevinGrajeda\">Kevin Grajeda 2020</a>\r\n            </footer>\r\n        </div>)\r\n    }\r\n}\r\n\r\nexport default App;","import React from \"react\"\r\nimport ReactDOM from \"react-dom\"\r\nimport \"./style.css\"\r\nimport App from \"./App\"\r\n\r\nReactDOM.render(\r\n    \r\n    <App/>,\r\n    document.getElementById(\"root\"))"],"sourceRoot":""}