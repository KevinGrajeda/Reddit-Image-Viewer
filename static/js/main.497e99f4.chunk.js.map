{"version":3,"sources":["components/Postal.js","components/Recomendados.js","components/Navegacion.js","App.js","index.js"],"names":["Postal","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","state","isZoom","imageError","handleClick","bind","assertThisInitialized","handleError","setState","prev","imgRes","props","imagen","urls","find","res","height","width","url","replace","urlFull","length","imgUrl","react_default","a","createElement","className","onClick","onError","src","alt","titulo","href","link_publicacion","autor","React","Component","Recomendados","nextProps","sr","botones","subreddits","map","id","key","buscar","i","random","Math","floor","push","splice","Navegacion","anterior","siguiente","cambio","estado","App","imagenes","cargando","subreddit","contador","postxpagina","buscarPor","handleKeyUp","busqueda","cambioBuscar","_this2","arguments","undefined","buscarx","document","getElementById","value","concat","fetch","then","json","resultados","data","children","reduce","result","preview","title","images","resolutions","author","permalink","after","before","catch","error","includes","subReddit","event","keyCode","preventDefault","click","_this3","postales","components_Postal","aria-label","placeholder","spellCheck","onKeyUp","evt","components_Recomendados","components_Navegacion","ReactDOM","render","src_App"],"mappings":"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","file":"static/js/main.497e99f4.chunk.js","sourcesContent":["import React from \"react\";\n\nclass Postal extends React.Component{\n    constructor(){\n        super();\n        this.state={\n            isZoom:false,\n            imageError:false,\n        }\n        this.handleClick=this.handleClick.bind(this);\n        this.handleError=this.handleError.bind(this);\n    }\n\n    handleClick(){\n        this.setState(prev=>{\n            return{isZoom : !prev.isZoom}\n        })\n    }\n    handleError(){\n\n        this.setState(prev=>{\n            return{imageError : true}\n        })\n    }\n    render(){\n        let imgRes=this.props.imagen.urls.find((res)=>res.height>=400 && res.width>=600);\n        imgRes=imgRes?imgRes.url.replace(/&amp;/g, '&'):this.props.imagen.urlFull;\n        if(this.state.imageError){\n            imgRes=this.props.imagen.urls[this.props.imagen.urls.length-1].url.replace(/&amp;/g, '&');\n        }\n        const imgUrl=this.state.isZoom?this.state.imageError?imgRes :this.props.imagen.urlFull:imgRes;\n        return( \n            <div className={this.state.isZoom?\"postal zoom\":\"postal\"}>\n                <div className=\"hover\" onClick={this.handleClick}/>\n                <img onClick={this.handleClick} onError={this.handleError} src={imgUrl}  alt=\"\"/>\n                <h3>{this.props.imagen.titulo}</h3>\n                <a href={\"https://reddit.com\"+this.props.imagen.link_publicacion}>u/{this.props.imagen.autor}</a>\n            </div>\n            \n        )\n    }\n    \n}\n\nexport default Postal;","import React from \"react\"\n\nclass Recomendados extends React.Component{\n    shouldComponentUpdate(nextProps) {\n        if(this.props.sr===nextProps.sr){\n            return false;\n        }else{\n            return true;\n        }\n    }\n    \n    render(){\n        let botones=[];\n        let subreddits=[\n            \"Photographs\",\n            \"AnalogPhotography\",\n            \"FotosMexico\",\n            \"Generative\",\n            \"HeavyMind\",\n            \"ImaginaryLandscapes\",\n            \"PrintMaking\",\n            \"StreetArt\",\n            \"Isometric\",\n            \"Glitch_Art\",\n            \"AccidentalWesAnderson\",\n            \"UnstirredPaint\",\n            \"Museum\",\n        ];\n\n        subreddits=subreddits.map((sr,id)=>{\n            return <button key={id} onClick={()=> this.props.buscar(sr)} className=\"recomendado\">{\"\"+sr}</button>\n        });\n        \n        for(let i=0;i<5;i++){\n            const random=Math.floor(Math.random()*(subreddits.length));\n            botones.push(subreddits[random]);\n            \n            subreddits.splice(random,1);\n\n        }\n        return(\n            <div className=\"sb\">\n                {botones}\n            </div>\n        )\n    }\n}\n\n\nexport default Recomendados","import React from \"react\";\n\nclass Navegacion extends React.Component{\n    constructor(){\n        super();\n        this.anterior=this.anterior.bind(this);\n        this.siguiente=this.siguiente.bind(this);\n    }\n    anterior(){\n        this.props.cambio(\"before=\"+this.props.estado.anterior);\n    }\n    siguiente(){\n        this.props.cambio(\"after=\"+this.props.estado.siguiente);\n    }\n    render(){\n        return( \n            <div className=\"top\">\n                {this.props.estado.anterior&&<button className=\"nav\" onClick={this.anterior}>&lt;</button>}\n                {this.props.estado.siguiente&&<button className=\"nav\" onClick={this.siguiente}>&gt;</button>}\n            </div>\n        )\n    }\n    \n}\n\nexport default Navegacion;","import React from \"react\"\nimport Postal from \"./components/Postal\"\nimport Recomendados from \"./components/Recomendados\"\nimport Navegacion from \"./components/Navegacion\"\n\nclass App extends React.Component{\n    \n    constructor(){\n        super();\n        this.state={\n            imagenes:[],\n            cargando:true,\n            subreddit:\"photographs\",\n            estado:\"\",\n            siguiente:\"\",\n            anterior:\"\",\n            contador:0,\n            postxpagina:25,\n            buscarPor:\"hot\",\n        }\n        this.handleClick=this.handleClick.bind(this);\n        this.handleKeyUp=this.handleKeyUp.bind(this);\n        this.busqueda=this.busqueda.bind(this);\n        this.cambio=this.cambio.bind(this);\n        this.cambioBuscar=this.cambioBuscar.bind(this);\n    }\n\n    busqueda(sr=this.state.subreddit,siguiente=\"\",contador=this.state.postxpagina,buscarx=this.state.buscarPor){\n        document.getElementById(\"subreddit\").value=\"\";\n        \n        this.setState({contador: contador,buscarPor:buscarx});\n\n        if(siguiente===\"\"){\n            contador=0;\n        }\n        const url=\n        `https://www.reddit.com/r/${sr}/${buscarx}/.json?limit=${this.state.postxpagina}&${siguiente}&count=${contador}`\n        \n        this.setState({cargando:true, estado:\"...\",subreddit:sr});\n        fetch(url)\n        .then(res=>res.json())\n        .then(res=> {\n            const resultados=res.data.children.reduce((result,id)=>{\n                if(id.data.preview){//es imagen?\n                    result.push({\n                        titulo: id.data.title,\n                        urlFull: id.data.url,\n                        urls:id.data.preview.images[0].resolutions,\n                        id: id.data.id,\n                        autor: id.data.author,\n                        link_publicacion: id.data.permalink,\n                    });\n                }\n                return result;\n            },[]);\n            this.setState({\n                imagenes: resultados,\n                cargando: false,\n                siguiente: res.data.after,\n                anterior: res.data.before,\n            });\n            \n        }).catch(error=>{\n            //console.log(error)\n            this.setState({estado:\"no encontrado/not found\"})\n        });\n    }\n    cambio(siguiente){\n        if(siguiente.includes(\"after\")){\n            this.busqueda(this.state.subreddit,siguiente,this.state.contador+this.state.postxpagina);\n        }else if(siguiente.includes(\"before\")){\n            this.busqueda(this.state.subreddit,siguiente,this.state.contador-this.state.postxpagina);\n        }\n    }\n    cambioBuscar(buscarx){\n        this.busqueda(undefined,undefined,undefined,buscarx);\n    }\n\n    handleClick(){\n        const subReddit=document.getElementById(\"subreddit\").value;\n        this.busqueda(subReddit);\n    }\n\n    handleKeyUp(event){\n        if (event.keyCode === 13) {\n            event.preventDefault();\n            document.getElementById(\"buscar\").click();\n        }\n    }\n\n    componentDidMount(){\n        this.busqueda(this.state.subreddit);\n    }\n\n    render(){\n        const postales=this.state.imagenes.map(imagen=> <Postal key={imagen.id} imagen={imagen} />);\n\n        return(\n        <div>\n            <div className=\"top\">\n                <div className=\"recomendados\">\n                    <button className={this.state.buscarPor===\"hot\"?\"seleccion\":\"\"} onClick={()=>this.cambioBuscar(\"hot\")}>Hot</button>\n                    <button className={this.state.buscarPor===\"new\"?\"seleccion\":\"\"} onClick={()=>this.cambioBuscar(\"new\")}>New</button> \n                </div>\n                <div className=\"caja\">\n                    <a href={\"https://www.reddit.com/r/\"+this.state.subreddit} className=\"prefijo\">r/</a>\n                    <input aria-label=\"buscar subreddit\" placeholder={this.state.subreddit} spellCheck=\"false\" onKeyUp={evt => this.handleKeyUp(evt)} id=\"subreddit\"/>\n                <button id=\"buscar\" className=\"buscar\" onClick={this.handleClick}><img alt=\">\" src=\"https://www.queryly.com/images/whitesearchicon.png  \"></img></button>\n\n                </div>\n                <Recomendados sr={this.state.subreddit} buscar={this.busqueda}/>\n                \n            </div>\n            \n            {!this.state.cargando?\n            <div className=\"contenedor\">\n                {postales}\n            </div>\n            :<h1 className=\"estado\">{this.state.estado}</h1>}\n\n            {!this.state.cargando?\n                <Navegacion estado={this.state} cambio={this.cambio}/>\n            :null}\n            <footer>\n                <a href=\"https://github.com/KevinGrajeda\">Kevin Grajeda 2020</a>\n            </footer>\n        </div>)\n    }\n}\n\nexport default App;","import React from \"react\"\nimport ReactDOM from \"react-dom\"\nimport \"./style.css\"\nimport App from \"./App\"\n\nReactDOM.render(\n    \n    <App/>,\n    document.getElementById(\"root\"))"],"sourceRoot":""}